##  Описание программы
Программа для отображения хода игры и управления "Брейн системой".

Программа написана для ОС Windows.

Исполняемый файл и набор звуковых файлов для воспроизведения, упакованные в ZIP архив можно скачать по [ссылке](https://disk.yandex.ru/d/Y4Qgi6eKR4TbPQ).

Для запуска программы необходимо распаковать архив и запустить файл mozgocolco.exe.
После запуска открывается **окно конфигурации** и **игровое окно**.
  
### Описание окна конфигурации

Окно конфигурации включает в себя **панель параметров порта, панель звуков, панель настроек игры, а также таблицу идентификаторов игровых кнопок**.

<img align="center" width=500 src="https://github.com/MelexinVN/bs_kombo_bs/blob/main/media/screen_1.PNG" />

#### Панель параметров порта состоит из: #
- выпадающего списка выбора номера порта
- выпадающего списка скорости порта
- выпадающего списка количества витов данных
- поля для отправки тестовых данных в порт с кнопкой "отправить"
- поля вывода принятых через порт данных с кнопкой "очистить" 

<img align="center" width=250 src="https://github.com/MelexinVN/bs_kombo_bs/blob/main/media/screen_4.png" />

Описание работы с портом будет приведено ниже. 

*Примечание: Стандартное значение скорости порта - 9600, количества битов - 8.*

#### Панель настроек звуков состоит из: #
- выпадающих списков для выбора звуковых файлов формата mp3, воспроизводимых при соответствующих событиях
- кнопок "Обновить" и "Загрузить"

<img align="center" width=250 src="https://github.com/MelexinVN/bs_kombo_bs/blob/main/media/screen_5.png" />

Списки формируются из содержимого папки [sounds](https://github.com/MelexinVN/kombo_bs/tree/main/public/soft/Visual%20Studio/mozgocolco_v.2.0/bin/Debug/sounds) которая должна быть в той же папке, что и файл [mozgocolco.exe](https://github.com/MelexinVN/kombo_bs/blob/main/public/soft/Visual%20Studio/mozgocolco_v.2.0/bin/Debug/mozgocolco.exe).

Чтобы добавить или заменить файлы в списках, нужно добавить/заменить файлы в папке и нажать кнопку "Обновить". 
После переназначения звуков на события необходимо нажать кнопку "Загрузить", чтобы изменения вступили в силу в программе.

*Примечание: В данной версии программы изменения соотвествия файлов событиям после закрытия программы не сохраняются!*

#### Панель настроек игры состоит из: #
- поля установки основного времени
- поля установки дополнительного времени
- поля для определения количества игровых кнопок
- выпадающего списка режимов игры
- кнопки "Загрузить"

<img align="center" width=250 src="https://github.com/MelexinVN/bs_kombo_bs/blob/main/media/screen_6.png" />

Основное время - время, которое дается на раздумье игрокам/командам. По его истечению воспроизводится соответствующий звуковой файл.

**Значение по умолчанию - 60 секунд.**

Дополнительное время - время, по прошествии которого воспроизводится дополнительный звуковой сигнал. Например - при переходе права ответа в игре "Брейн ринг".

**Значение по умолчанию - 20 секунд.**

Изменения вступаютв силу при нажатии кнопки "Загрузить".

*Примечание: Изменение количества игровых кнопок и режима игры в данной версии недоступны. Изменения значений времени после закрытия программы в данной версии не сохраняются!*

#### Таблица идентификаторов игровых кнопок по умолчанию содержит их номера: #

<img align="center" width=250 src="https://github.com/MelexinVN/bs_kombo_bs/blob/main/media/screen_7.png" />

Любой идентификатор можно изменить, введя новый текст в соответствующие ячейки таблицы и нажав кнопку "Загрузить". 

<img align="center" width=250 src="https://github.com/MelexinVN/bs_kombo_bs/blob/main/media/screen_3.PNG" />

После изменения в поле хронологии игры в игровом окне вместо номера будет отображаться новое значение.

Под таблицей также располагается отметка "показать игровое окно", изменение которой меняет видимость игрового окна.

### Описание игрового окна

Игровое окно содержит:
- панель игровых кнопок
- панель времени
- кнопки "Сброс", "Старт" и "Далее"
- поле хронологии событий 

<img align="center" width=500 src="https://github.com/MelexinVN/bs_kombo_bs/blob/main/media/screen_2.PNG" />

На панели игровых кнопок находятся пронумерованные изображения кнопок. При нажатии соответствующей игровой кнопки, справа от изображения появляется порядковый номер нажатия (начиная с нуля).  

<img align="center" width=250 src="https://github.com/MelexinVN/bs_kombo_bs/blob/main/media/screen_8.png" />

На панели времени отображается ход времени.

<img align="center" width=250 src="https://github.com/MelexinVN/bs_kombo_bs/blob/main/media/screen_9.png" />

На поле хронологии событий отображается порядок нажатия игровых кнопок, а также вспомогательная информация (ФС - фальстарт). Номер игровой кнопки, название команды или имя игрока соответствуют значениям в таблице окна конфигурации.

<img align="center" width=250 src="https://github.com/MelexinVN/bs_kombo_bs/blob/main/media/screen_10.png" />

При нажатии кнопки «Сброс» система приходит в исходное состояние – исчезают номера порядка нажатия, сбрасывается таймер, очищается поле хронологии. Пульт системы и дисплей реагируют также, как и при нажатии кнопки сброса на пульте.

При нажатии кнопки «Пуск» запускается отсчет времени, система переходит в режим пуска времени.

Нажатие на кнопку «Далее» соответствует нажатию соответствующей кнопки на пульте - переход очереди нажатия. Изменение очереди также фиксируется на панели игровых кнопок.

**Горячие клавиши**

- Кнопка «Сброс» - клавиша "R" на клавиатуре
- Кнопка «Пуск» - клавиша "S" на клавиатуре
- Кнопка «Далее» - клавиша "N" на клавиатуре

## Подключение, настройка и работа с программой

Для работы программы с игровым устройством в операционной системе должны быть установлены драйвера виртуального COM-порта CP2102.

Скачать драйвер можно с [сайта производителя](https://www.silabs.com/developers/usb-to-uart-bridge-vcp-drivers?tab=downloads), или с [облака проекта](https://disk.yandex.ru/d/OVDD7t1Yv8EW7g).

*Рекомендуется подключать устройство к USB порту до запуска программы.*

После запуска программы необходимо в выпадающем списке выбора порта выбрать нужный порт и нажать кнопку "Открыть".

В случае если в выпадающем списке выбора порта отсутствует нужный порт, необходимо нажать кнопку "Поиск". 

Если после обновления порт не появится в списке, необходимо проверить исправность разъема USB, кабеля USB, корректность установки драйверов а также исправность самого устройства.

Проверить связь программы с устройством можно нажав кнопку пуска времени на устройстве (на дисплее начнется отсчет времени), а затем - кнопку сброса в игровом окне программы. Отсчет времени исчезнет.

Если после подключения порта программа не взаимодействует с устройством, необходимо проверить, тот ли порт подключен, исправен ли разъем USB, кабель USB, корректно ли установлены драйвера и исправно ли устройство.

В случае если во время работы системы произошло отключение USB разъема, необходимо переподключить устройство – подключить кабель USB к разъемуи повторить процедуру подключения.